@model eProject3.Controllers.AdminController.AboutUsViewModel

<link rel="stylesheet" href="~/css//EditAboutUs.css" />
@* Css button back *@
<style>
    .btn {
        display: inline-block;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        user-select: none;
        border: 1px solid transparent;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .btn-primary {
        color: #fff;
        background-color: #007bff;
        border-color: #007bff;
    }

        .btn-primary:hover {
            color: #fff;
            background-color: #0056b3;
            border-color: #004085;
        }

    .back-button {
        margin: 10px;
    }
</style>
<div class="mainHead">
    <div class="tilteLeft">
        <h1>About Us</h1>
        <p style="color: gray; padding-left: 5px">Version 2.0</p>
    </div>
    <div class="tilteRight">
        <span>Home ></span>
        <span style="padding-left: 4px">About Us</span>
    </div>
</div>

<div>
    <a asp-action="@Model.SourcePage" asp-route-id="@Model.Id" class="btn btn-primary back-button">Back</a>
</div>

<div class="mainBody">
    <div class="form-add-cate">
        <form asp-action="EditAboutUs" method="post" enctype="multipart/form-data">
            <input type="hidden" asp-for="SourcePage" />
            @for (int i = 0; i < Model.AboutUsChildren.Count; i++)
            {
                <label asp-for="AboutUsChildren[i].Title"></label>
                <input asp-for="AboutUsChildren[i].Title" class="inputAddCate" id="Title" type="text" placeholder="Title..." />
                <span style="color: red" asp-validation-for="AboutUsChildren[i].Title" class="text-danger"></span>

                <label asp-for="AboutUsChildren[i].Content"></label>
                <input asp-for="AboutUsChildren[i].Content" class="inputAddCate" id="Description" type="text" placeholder="Description..." />
                <span style="color: red" asp-validation-for="AboutUsChildren[i].Content" class="text-danger"></span>
                
                <input type="hidden" asp-for="AboutUsChildren[i].Id" />
            }

            <div id="existingImages">
                @foreach (var image in Model.ExistingImages)
                {
                    <div class="existing-image">
                        <img src="~/imageAboutUs/@image" alt="Image" style="width: 100px; height: 100px;" />
                        <input type="hidden" name="ExistingImages" value="@image" />
                    </div>
                }
            </div>

            <div id="fileInputsContainer">
                <div class="file-input-container">
                    <input class="image" type="file" name="Images">
                    <button type="button" class="btnThemFile">Thêm file ảnh</button>
                </div>
            </div>

            <input class="btnAddCate" type="submit" value="Save" />
        </form>

        
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const fileInputsContainer = document.getElementById('fileInputsContainer');

        function addFileInput() {
            const newFileInput = document.createElement('input');
            newFileInput.setAttribute('type', 'file');
            newFileInput.setAttribute('class', 'image');
            newFileInput.setAttribute('name', 'Images');

            const deleteButton = document.createElement('button');
            deleteButton.type = 'button';
            deleteButton.textContent = 'Xóa';
            deleteButton.classList.add('btnXoaFile');

            deleteButton.addEventListener('click', function () {
                newInputContainer.remove();
            });

            const newInputContainer = document.createElement('div');
            newInputContainer.classList.add('file-input-container');
            newInputContainer.appendChild(newFileInput);
            newInputContainer.appendChild(deleteButton);

            fileInputsContainer.appendChild(newInputContainer);
        }

        document.querySelector('.btnThemFile').addEventListener('click', function (event) {
            event.preventDefault();
            addFileInput();
        });
    });
</script>